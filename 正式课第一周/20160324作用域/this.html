<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>this</title>
</head>
<body>
<div id="" div1>你好</div>


<script type="text/javascript">
    /*
     this关键字不仅仅存在于函数体中，但是我们主要研究函数体内的this，但是函数体内的this无外乎五种情况
     1、给元素绑定事件，当事件被触发的时候，this就是当前元素
     2、this是谁跟函数在哪里定义和执行没什么关系，就看函数执行的时候前面的‘.’点。点前面是谁this就是谁,
     没有点就是window
     3、自运行函数的this永远是window，无论这个自运行函数在哪
     4、构造函数中的this是当前实例
     5、this可以通过call和appll去改变，这个优先级最高
     */
    /*
     在全局作用域声明的变量，可以看做是window的一个属性
     */
    //    document.getElementById("div1").onclick=function(){
    //        console.log(this);
    //    }

    //例如1：
    function fn() {
        console.log(this);
    }
    var obj = {
        fn: fn
    }
    fn();//this是window
    obj.fn();//this是obj

    //例如2：
    var oo = {
        sum: function () {
            console.log(this);
            //fn(); this是window(fn函数执行的时候，this是window)
        }
    }
    oo.sum();//this是oo(sum函数执行的时候，this是oo)

   //例如3：
    var obj2={
        fn:(function(){
            console.log(this);//自执行函数的this永远是window
            return function(){
                console.log(this);//this 是obj2
            }
        })()
    }
    obj2.fn();
    console.log(obj2.fn);
    //
</script>
</body>
</html>